#!/bin/bash
# ============================================
# Alex æ—¥è¯­å­¦ä¹ ç½‘ç«™ - è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
# Cowork å¯ä»¥ç›´æ¥è¿è¡Œæ­¤è„šæœ¬
# ============================================

# åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•ï¼ˆè¯·æ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ï¼‰
cd "$(dirname "$0")/.."

echo "ğŸ“¦ å¼€å§‹éƒ¨ç½² Alex æ—¥è¯­å­¦ä¹ ç½‘ç«™..."

# æ£€æŸ¥ git æ˜¯å¦å·²åˆå§‹åŒ–
if [ ! -d ".git" ]; then
    echo "âš ï¸  Git æœªåˆå§‹åŒ–ï¼Œæ­£åœ¨åˆå§‹åŒ–..."
    git init
    git branch -M main
    echo ""
    echo "â— é¦–æ¬¡éƒ¨ç½²éœ€è¦æ‰‹åŠ¨è®¾ç½®è¿œç¨‹ä»“åº“ï¼š"
    echo "   git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/alex-japanese.git"
    echo "   è¯·è®¾ç½®åé‡æ–°è¿è¡Œæ­¤è„šæœ¬"
    exit 1
fi

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add -A

# è·å–å½“å‰æ—¥æœŸä½œä¸ºæäº¤ä¿¡æ¯
DATE=$(date +"%Y-%m-%d %H:%M")
git commit -m "æ›´æ–°è¯¾ç¨‹ ${DATE}"

# æ¨é€åˆ° GitHub
git push origin main

echo ""
echo "âœ… éƒ¨ç½²å®Œæˆï¼"
echo "ğŸŒ ç½‘ç«™åœ°å€: https://ä½ çš„ç”¨æˆ·å.github.io/alex-japanese/"
echo ""
